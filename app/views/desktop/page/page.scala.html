@(page: com.tantalim.models.Page)
<div class="page-header">
    <h1>@page.title</h1>
</div>

@for(section <- page.sections) {
    <form id="form-view" role="form" name="TopPageForm" data-ng-hide="SmartPage.showSearch">
        <div class="page-nav navbar navbar-inverse navbar-fixed-bottom">
            <button type="button" data-ng-click="SmartPage.turnSearchOn()" class="btn btn-default">
                <span class="glyphicon glyphicon-search"></span>
                Search View
            </button>
            <button type="button" data-ng-click="SmartPage.refresh()" class="btn btn-default">
                <span class="glyphicon glyphicon-refresh"></span>
                Refresh
            </button>
            @if(section.canSave) {
                <button type="button" data-ng-click="SmartPage.save()" class="btn btn-success"
                    data-ng-disabled="!SmartPage.getSection('@(section.name)', 0).getCurrentSet().isDirty()">
                    <span class="glyphicon glyphicon-floppy-disk"></span>
                    Save
                </button>
            }
        </div>
        @desktop.page.page_view(section, 0)
    </form>
    @desktop.page.search(section)
}