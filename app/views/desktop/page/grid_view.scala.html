@(page: com.tantalim.models.PageSection, depth: Int)

<div class="table-responsive no-select">
    <table class="tnt-grid table table-bordered">
        <thead>
            <tr>
                <th class="tnt-grid-corner"></th>
            @for(field <- page.fields) {
                @if(field.showInTableView) {
                    <th class="text-center" width="@{field.tableWidth}%" data-ng-click="SmartPage.getSection('@(page.name)').orderByField('@field.name')">
                        @field.label
                        <span class="glyphicon" aria-hidden="true"
                            ng-class="{'glyphicon-chevron-down': SmartPage.getSection('@(page.name)').orderBy.direction, 'glyphicon-chevron-up': !SmartPage.getSection('@(page.name)').orderBy.direction}"
                            data-ng-show="SmartPage.getSection('@(page.name)').orderBy.field === '@field.name'"></span>
                    </th>
                }
            }
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr data-ng-repeat="row in SmartPage.getSection('@(page.name)').getCurrentSet().rows">
                <td class="tnt-grid-left-nav" data-ng-bind="$index + 1"></td>
            @for((field, fieldIndex) <- page.fields.zipWithIndex) {
                @if(field.showInTableView) {
                    <td class="text-display @if(field.alignCenter){text-center} @if(field.alignRight){text-right}"
                        data-ng-class="{success: SmartPage.getSection('@(page.name)').cellIsSelected($index, @fieldIndex)}"
                        data-ng-mousedown="SmartPage.getSection('@(page.name)').mousedown($index, @fieldIndex)"
                        data-ng-mouseover="SmartPage.getSection('@(page.name)').mouseover($index, @fieldIndex)"
                        data-ng-mouseup="SmartPage.getSection('@(page.name)').mouseup($index, @fieldIndex)"
                        @if(field.fieldType != "checkbox") {
                            data-ng-dblclick="SmartPage.getSection('@(page.name)').dblclick($index, @fieldIndex)"
                        }
                    >
                        @if(field.fieldType == "checkbox") {
                            <i class="fa fa-check-square-o fa-lg"
                                data-ng-show="row.data.@field.name === true"
                                data-ng-click="row.toggle('@(field.name)', @(field.required))"></i>
                            <i class="fa fa-square-o fa-lg"
                                data-ng-show="row.data.@field.name === false"
                                data-ng-click="row.toggle('@(field.name)', @(field.required))"></i>
                            <i class="fa fa-square-o fa-lg disabled"
                                data-ng-show="row.data.@field.name === undefined || row.data.@field.name === null"
                                data-ng-click="row.toggle('@(field.name)', @(field.required))"></i>
                        } else {
                            <span class="text-view" data-ng-bind="row.data.@field.name @if(field.filter.isDefined){ | @field.filter}"></span>
                            <input type="text" class="text-edit" data-ng-model="row.data.@field.name"
                            data-ng-show="SmartPage.getSection('@(page.name)').cellIsEditing($index, @fieldIndex)"
                            data-ng-change="row.update('@(field.name)')"
                            focus-me="SmartPage.getSection('@(page.name)').focus($index, @fieldIndex)">
                        }
                    </td>
                }
            }
                <td></td>
            </tr>
            <tr data-ng-hide="SmartPage.getSection('@(page.name)').getCurrentSet().rows.length">
                <td colspan="@page.fieldLengthInTableView">No Data Found</td>
            </tr>
        </tbody>
    </table>
</div>
