{
  "title": "Build Table",
  "icon": "glyphicon-modal-window",
  "sections": [
    {
      "name": "BuildTable",
      "title": "Tables",
      "fields": [
        {
          "name": "TableName",
          "showInNavigation": true,
          "links": [
            {
              "page": "ListModels",
              "filter": "ModelBasisTable Equals '${TableName}'"
            },
            {
              "page": "BuildModel",
              "filter": "ModelBasisTable Equals '${TableName}'"
            }
          ]
        },
        {
          "name": "TableSQL"
        },
        {
          "name": "TableModule"
        },
        {
          "name": "TablePrimaryKey",
          "fieldType": "select",
          "select": {
            "model": "ListTableColumns",
            "sourceField": "ColumnName",
            "filter": "ColumnTableID = ${TableTableID}"
          }
        },
        {
          "name": "TableAllowInsert"
        },
        {
          "name": "TableAllowUpdate"
        },
        {
          "name": "TableAllowDelete"
        }
      ],
      "sections": [
        {
          "name": "TableColumns",
          "title": "Columns",
          "viewMode": "table",
          "buttons": [
            {
              "label": "Reorder",
              "fxn": "var x = 10; _.forEach(section.getCurrentSet().rows, function(row) { row.update('TableColumnDisplayOrder', x); x = x + 10; })"
            }
          ],
          "fields": [
            {
              "name": "TableColumnDisplayOrder"
            },
            {
              "name": "TableColumnName",
              "showInNavigation": true
            },
            {
              "name": "TableColumnRequired"
            },
            {
              "name": "TableColumnUpdateable"
            },
            {
              "name": "TableColumnDataType"
            },
            {
              "name": "TableColumnLength"
            },
            {
              "name": "TableColumnFieldType"
            },
            {
              "name": "TableColumnSQL"
            },
            {
              "name": "TableColumnLabel"
            },
            {
              "name": "TableColumnHelp"
            },
            {
              "name": "TableColumnPlaceholder"
            }
          ]
        },
        {
          "name": "TableJoins",
          "title": "Joins",
          "fields": [
            {
              "name": "TableJoinName",
              "showInNavigation": true
            },
            {
              "name": "TableJoinToTableName",
              "fieldType": "select",
              "select": {
                "model": "ListTables",
                "sourceField": "TableName"
              },
              "links": [
                {
                  "page": "BuildTable",
                  "filter": "TableName Equals '${TableJoinToTableName}'"
                }
              ]
            },
            {
              "name": "TableJoinRequired"
            }
          ],
          "sections": [
            {
              "name": "TableJoinColumns",
              "title": "Join Columns",
              "fields": [
                {
                  "name": "TableJoinJoinColumnFromColumn",
                  "label": "From Column",
                  "fieldType": "select",
                  "select": {
                    "model": "ListTableColumns",
                    "sourceField": "ColumnName",
                    "filter": "ColumnTableID = ${TableTableID}"
                  }
                },
                {
                  "name": "TableJoinJoinColumnToColumn",
                  "label": "To Column",
                  "fieldType": "select",
                  "select": {
                    "model": "ListTableColumns",
                    "sourceField": "ColumnName",
                    "filter": "ColumnTableName = '${TableJoinToTableName}'"
                  }
                },
                {
                  "name": "TableJoinJoinColumnFromText"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
